---
# device address which runs SNMP agent
address: SomeAddress  # the address which been listened by SNMP Daemon
region: SomeRegion  # the region of device, e.g. DCA, DCB, DataCenterA...
area: SomeArea  # the business area
addr_in_cmdb: SomeAddr  # the address which related with Resource ID in CMDB
rid: 'THis is resource ID'
snmp:
  version: '2c'  # the SNMPD version
  community: 'public'  # the SNMPD community
  timeout: 1  # second(s) to timeout
  retries: 1  # time(s) to retry after failed
  OIDs:
  - id: 'SNMPv2-MIB::sysName.0'
    label: System Name
    explanation: '主机名'
    reference: 'monitor'
  - id: 'HOST-RESOURCES-MIB::hrMemorySize.0'
    label: 'Memory Size'
    explanation: 'The Size of Memory'
    reference: '16271032'
  # OID configuration for Network Interface Cards' Stat
  - id_range:
      start: 'IF-MIB::ifOperStatus.1'  # the base part of an OID range
      count: 31  # the number of the OID range
    label: 'NetworkInterface'
    explanation: '网卡状态'
    related_symbol: 'IF-MIB::ifDescr'  # OID symbol to fetch a related name
    reference: 'up(1)'  # a reference value which been considered as normal stat
  - table: 'hrStorageUsed'
    table_index: 'hrStorageIndex'
    label: 'Storage Used Percent'
    explanation: '存储设备使用率'
    exclude_index: '7, 8, 10, 11, 37, 38, 41, 72'
    exclude_value: 'Physical memory, Cached memory, Shared memory, /dev/shm, Available memory'
    related_symbol: 'hrStorageDescr'
    arithmetic: '%'
    arith_symbol: 'hrStorageSize'
    arith_pos: 2
    watermark:
      low: -1
      high: 80
  # OID configuration for Memory Usage Percent
  - id: 'UCD-SNMP-MIB::memSysAvail.0'
    label: 'MemoryFreePercent'
    explanation: '内存使用率'
    arith_symbol: 'memTotalRealX'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 0
      high: 20
      restricted: True
  - id: 'UCD-SNMP-MIB::memAvailSwap.0'
    label: 'SWAPAvailablePercent'
    explanation: '交换空间使用率'
    arith_symbol: 'UCD-SNMP-MIB::memTotalSwap'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 80
      high: 100
  - id_range:
      start: 'UCD-DISKIO-MIB::diskIOLA15.1'
      end: 'UCD-DISKIO-MIB::diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    related_symbol: 'UCD-DISKIO-MIB::diskIODevice'
    severity: '1'
    watermark:
      low: 50
      high: 80
      restricted: True
  - id_range:
      start: 'UCD-DISKIO-MIB::diskIOLA15.1'
      end: 'UCD-DISKIO-MIB::diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    alert: '严重异常，请管理员务必关注！'
    related_symbol: 'UCD-DISKIO-MIB::diskIODevice'
    severity: '3'
    watermark:
      low: 80
      high: 100
      restricted: True  # set to True to alert when value is between 'low' and 'high'
  - id: 'UCD-SNMP-MIB::ssCpuIdle.0'
    label: 'CPU Idle'
    explanation: 'CPU空闲率'
    severity: '1'
    watermark:
      low: 0
      high: 60
      restricted: True  # Alert when CPU IDLE is between 0-60

---
# device address which runs SNMP agent
address: SomeAddress  # the address which been listened by SNMP Daemon
region: SomeRegion  # the region of device, e.g. DCA, DCB, DataCenterA...
area: SomeArea  # the business area
addr_in_cmdb: SomeAddr  # the address which related with Resource ID in CMDB
rid: 'THis is resource ID'
snmp:
  version: '2c'  # the SNMPD version
  community: 'public'  # the SNMPD community
  timeout: 1  # second(s) to timeout
  retries: 1  # time(s) to retry after failed
  OIDs:
  - id: 'SNMPv2-MIB::sysName.0'
    label: System Name
    explanation: '主机名'
    reference: 'monitor'
  - id: 'HOST-RESOURCES-MIB::hrMemorySize.0'
    label: 'Memory Size'
    explanation: 'The Size of Memory'
    reference: '16271032'
  # OID configuration for Network Interface Cards' Stat
  - id_range:
      start: 'IF-MIB::ifOperStatus.1'  # the base part of an OID range
      count: 31  # the number of the OID range
    label: 'NetworkInterface'
    explanation: '网卡状态'
    related_symbol: 'IF-MIB::ifDescr'  # OID symbol to fetch a related name
    reference: 'up(1)'  # a reference value which been considered as normal stat
  - table: 'hrStorageUsed'
    table_index: 'hrStorageIndex'
    label: 'Storage Used Percent'
    explanation: '存储设备使用率'
    exclude_index: '7, 8, 10, 11, 37, 38, 41, 72'
    exclude_value: 'Physical memory, Cached memory, Shared memory, /dev/shm, Available memory'
    related_symbol: 'hrStorageDescr'
    arithmetic: '%'
    arith_symbol: 'hrStorageSize'
    arith_pos: 2
    watermark:
      low: -1
      high: 80
  # OID configuration for Memory Usage Percent
  - id: 'UCD-SNMP-MIB::memSysAvail.0'
    label: 'MemoryFreePercent'
    explanation: '内存使用率'
    arith_symbol: 'memTotalRealX'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 0
      high: 20
      restricted: True
  - id: 'UCD-SNMP-MIB::memAvailSwap.0'
    label: 'SWAPAvailablePercent'
    explanation: '交换空间使用率'
    arith_symbol: 'UCD-SNMP-MIB::memTotalSwap'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 80
      high: 100
  - id_range:
      start: 'UCD-DISKIO-MIB::diskIOLA15.1'
      end: 'UCD-DISKIO-MIB::diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    related_symbol: 'UCD-DISKIO-MIB::diskIODevice'
    severity: '1'
    watermark:
      low: 50
      high: 80
      restricted: True
  - id_range:
      start: 'UCD-DISKIO-MIB::diskIOLA15.1'
      end: 'UCD-DISKIO-MIB::diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    alert: '严重异常，请管理员务必关注！'
    related_symbol: 'UCD-DISKIO-MIB::diskIODevice'
    severity: '3'
    watermark:
      low: 80
      high: 100
      restricted: True  # set to True to alert when value is between 'low' and 'high'
  - id: 'UCD-SNMP-MIB::ssCpuIdle.0'
    label: 'CPU Idle'
    explanation: 'CPU空闲率'
    severity: '1'
    watermark:
      low: 0
      high: 60
      restricted: True  # Alert when CPU IDLE is between 0-60
  - table: 'hrSWRunPerfCPU'
    table_index: 'hrSWRunIndex'
    label: 'SW Running CPU Stat'
    related_symbol: 'hrSWRunName'
    perf: True
  - table: 'hrSWRunPerfMem'
    table_index: 'hrSWRunIndex'
    label: 'SW Running Mem Stat'
    related_symbol: 'hrSWRunName'
    perf: True
  - id: 'memSysAvail'
    label: 'MemoryAvail'
    perf: True
  - id: 'ssCpuIdle'
    label: 'CPU IDLE'
    perf: True
  - table: 'hrProcessorLoad'
    label: 'ProcessorLoad'
    perf: True
  - table: 'diskIONRead'
    table_index: 'diskIOIndex'
    label: 'diskIoRead'
    related_symbol: 'diskIODevice'
    perf: True
  - table: 'diskIONWritten'
    table_index: 'diskIOIndex'
    label: 'diskIoWritten'
    related_symbol: 'diskIODevice'
    perf: True
  - table: 'ifHCInUcastPkts'
    table_index: 'ifIndex'
    label: 'NIC'
    related_symbol: 'ifName'
    perf: True
  - id: 'ssSwapIn'
    label: 'systemSwapIn'
    perf: True
  - id: 'ssSwapOut'
    label: 'systemSwapOut'
    perf: True


#UCD-SNMP-MIB::ssIndex.0 = INTEGER: 1
#UCD-SNMP-MIB::ssErrorName.0 = STRING: systemStats
#UCD-SNMP-MIB::ssSwapIn.0 = INTEGER: 0 kB
#UCD-SNMP-MIB::ssSwapOut.0 = INTEGER: 0 kB
#UCD-SNMP-MIB::ssIOSent.0 = INTEGER: 124 blocks/s
#UCD-SNMP-MIB::ssIOReceive.0 = INTEGER: 0 blocks/s
#UCD-SNMP-MIB::ssSysInterrupts.0 = INTEGER: 1646 interrupts/s
#UCD-SNMP-MIB::ssSysContext.0 = INTEGER: 8172 switches/s
#UCD-SNMP-MIB::ssCpuUser.0 = INTEGER: 6
#UCD-SNMP-MIB::ssCpuSystem.0 = INTEGER: 3
#UCD-SNMP-MIB::ssCpuIdle.0 = INTEGER: 89
#UCD-SNMP-MIB::ssCpuRawUser.0 = Counter32: 21844709
#UCD-SNMP-MIB::ssCpuRawNice.0 = Counter32: 110270
#UCD-SNMP-MIB::ssCpuRawSystem.0 = Counter32: 12388959
#UCD-SNMP-MIB::ssCpuRawIdle.0 = Counter32: 557879365
#UCD-SNMP-MIB::ssCpuRawWait.0 = Counter32: 321451
#UCD-SNMP-MIB::ssCpuRawKernel.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuRawInterrupt.0 = Counter32: 0
#UCD-SNMP-MIB::ssIORawSent.0 = Counter32: 251480036
#UCD-SNMP-MIB::ssIORawReceived.0 = Counter32: 121093182
#UCD-SNMP-MIB::ssRawInterrupts.0 = Counter32: 114853064
#UCD-SNMP-MIB::ssRawContexts.0 = Counter32: 3195413835
#UCD-SNMP-MIB::ssCpuRawSoftIRQ.0 = Counter32: 50944
#UCD-SNMP-MIB::ssRawSwapIn.0 = Counter32: 1125957
#UCD-SNMP-MIB::ssRawSwapOut.0 = Counter32: 2158334
#UCD-SNMP-MIB::ssCpuRawSteal.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuRawGuest.0 = Counter32: 3742
#UCD-SNMP-MIB::ssCpuRawGuestNice.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuNumCpus.0 = INTEGER: 4

# https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sect-system_monitoring_tools-net-snmp-retrieving

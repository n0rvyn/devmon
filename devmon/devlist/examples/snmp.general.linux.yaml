---
# device address which runs SNMP agent
address: SomeAddress  # the address which been listened to by SNMP Daemon
region: SomeRegion  # The region of device, e.g., DCA, DCB, DataCenterA...
area: SomeArea  # the business area
addr_in_cmdb: SomeAddr  # the address which related with Resource ID in CMDB
rid: 'THis is resource ID'
snmp:
  version: '2c'  # the SNMPD version
  community: 'public'  # the SNMPD community
  timeout: 1  # second(s) to timeout
  retries: 1  # time(s) to retry after failed
  OIDs:
  - table: 'sysName.0'
    label: SystemName
    explanation: '主机名'
    show: True
  - table: 'hrMemorySize.0'
    label: 'Memory Size'
    explanation: '内存大小'
    unit: KiB
    show: True
  - id_range:
      start: 'ifOperStatus.1'  # the base part of an OID range
      count: 31  # the number of the OID range
    label: 'NetworkInterface'
    explanation: '网卡状态'
    related_symbol: 'ifDescr'  # OID symbol to fetch a related name
    exclude_value: 'br0, virbr0'
    reference: 'up(1)'  # a reference value which been considered as normal stat
  - table: 'hrStorageUsed'
    table_index: 'hrStorageIndex'
    label: 'Storage Used Percent'
    explanation: '存储设备使用率'
    exclude_index: '7, 8, 10, 11, 37, 38, 41, 72'
    exclude_value: 'Physical memory, Cached memory, Shared memory, /dev/shm, Available memory'
    related_symbol: 'hrStorageDescr'
    arithmetic: '%'
    arith_symbol: 'hrStorageSize'
    arith_pos: 2
    watermark:
      low: -1
      high: 80
  # OID configuration for Memory Usage Percent
  - table: 'memSysAvail.0'
    label: 'MemoryFreePercent'
    explanation: '内存使用率'
    arith_symbol: 'memTotalRealX'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 0
      high: 20
      restricted: True
  - table: 'memAvailSwap.0'
    label: 'SWAPAvailablePercent'
    explanation: '交换空间使用率'
    arith_symbol: 'memTotalSwap'
    arithmetic: '%'
    arith_pos: 2
    watermark:
      low: 80
      high: 100
  - id_range:
      start: 'diskIOLA15.1'
      end: 'diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    related_symbol: 'diskIODevice'
    severity: '1'
    watermark:
      low: 50
      high: 80
      restricted: True
  - id_range:
      start: 'diskIOLA15.1'
      end: 'diskIOLA15.32'
    label: 'Disk I/O Load 15(min) Avg'
    explanation: '硬盘I/O负载15分钟平均值'
    alert: '严重异常，请管理员务必关注！'
    related_symbol: 'diskIODevice'
    severity: '3'
    watermark:
      low: 80
      high: 100
      restricted: True  # set to True to alert when value is between 'low' and 'high'
  - table: 'ssCpuIdle.0'
    label: 'CPU Idle'
    explanation: 'CPU空闲率'
    severity: '1'
    watermark:
      low: 0
      high: 60
      restricted: True  # Alert when CPU IDLE is between 0-60
  - table: 'hrSWRunPerfCPU'
    table_index: 'hrSWRunIndex'
    label: 'swRunningCpuStat'
    related_symbol: 'hrSWRunName'
    perf: True
  - table: 'hrSWRunPerfMem'
    table_index: 'hrSWRunIndex'
    label: 'swRunningMemStat'
    related_symbol: 'hrSWRunName'
    perf: True
  - table: 'hrProcessorLoad'
    label: 'ProcessorLoad'
    perf: True
  - table: 'diskIONRead'
    table_index: 'diskIOIndex'
    label: 'diskIoRead'
    related_symbol: 'diskIODevice'
    perf: True
  - table: 'diskIONWritten'
    table_index: 'diskIOIndex'
    label: 'diskIoWritten'
    related_symbol: 'diskIODevice'
    perf: True
  - table: 'ifHCInUcastPkts'
    table_index: 'ifIndex'
    label: 'NIC'
    exclude: 'lo, sit0, virbr0, br0'
    related_symbol: 'ifName'
    perf: True
  - table: 'ifHCOutUcastPkts'
    table_index: 'ifIndex'
    label: 'NIC'
    exclude_value: 'lo, sit0, virbr0, br0'
    related_symbol: 'ifName'
    perf: True
  - group:
      - 'ssSwapIn'
      - 'ssSwapOut'
      - 'memAvailReal'
    label: 'SysMemSwapStat'
    perf: True
  - group:
      - 'ssCpuUser'
      - 'ssCpuSystem'
      - 'ssCpuIdle'
    label: 'SysCpuStat'
    perf: True
  - group:
      - ssCpuRawUser
      - ssCpuRawNice
      - ssCpuRawSystem
      - ssCpuRawIdle
      - ssCpuRawWait
      - ssCpuRawKernel
      - ssCpuRawInterrupt
      - ssCpuRawSoftIRQ
      - ssCpuRawSteal
      - ssCpuRawGuest
      - ssCpuRawGuestNice
    label: 'sysCpuRawStat'
    perf: True

  -group:
    - memTotalSwap.0
    - memAvailSwap.0
    - memTotalReal.0
    - memAvailReal.0
    - memTotalFree.0
    - memMinimumSwap.0
    - memShared.0
    - memBuffer.0
    - memCached.0
  label: ''
  perf: True





#UCD-SNMP-MIB::ssIOSent.0 = INTEGER: 124 blocks/s
#UCD-SNMP-MIB::ssIOReceive.0 = INTEGER: 0 blocks/s
#UCD-SNMP-MIB::ssSysInterrupts.0 = INTEGER: 1646 interrupts/s
#UCD-SNMP-MIB::ssSysContext.0 = INTEGER: 8172 switches/s

#UCD-SNMP-MIB::ssCpuRawNice.0 = Counter32: 110270
#UCD-SNMP-MIB::ssCpuRawSystem.0 = Counter32: 12388959
#UCD-SNMP-MIB::ssCpuRawIdle.0 = Counter32: 557879365
#UCD-SNMP-MIB::ssCpuRawWait.0 = Counter32: 321451
#UCD-SNMP-MIB::ssCpuRawKernel.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuRawInterrupt.0 = Counter32: 0
#UCD-SNMP-MIB::ssIORawSent.0 = Counter32: 251480036
#UCD-SNMP-MIB::ssIORawReceived.0 = Counter32: 121093182
#UCD-SNMP-MIB::ssRawInterrupts.0 = Counter32: 114853064
#UCD-SNMP-MIB::ssRawContexts.0 = Counter32: 3195413835
#UCD-SNMP-MIB::ssCpuRawSoftIRQ.0 = Counter32: 50944
#UCD-SNMP-MIB::ssRawSwapIn.0 = Counter32: 1125957
#UCD-SNMP-MIB::ssRawSwapOut.0 = Counter32: 2158334
#UCD-SNMP-MIB::ssCpuRawSteal.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuRawGuest.0 = Counter32: 3742
#UCD-SNMP-MIB::ssCpuRawGuestNice.0 = Counter32: 0
#UCD-SNMP-MIB::ssCpuNumCpus.0 = INTEGER: 4

# UCD-SNMP-MIB::memIndex.0 = INTEGER: 0
# UCD-SNMP-MIB::memErrorName.0 = STRING: swap

# UCD-SNMP-MIB::memTotalSwapX.0 = Counter64: 8388604 kB
# UCD-SNMP-MIB::memAvailSwapX.0 = Counter64: 8167164 kB
# UCD-SNMP-MIB::memTotalRealX.0 = Counter64: 16271032 kB
# UCD-SNMP-MIB::memAvailRealX.0 = Counter64: 588236 kB
# UCD-SNMP-MIB::memTotalFreeX.0 = Counter64: 8755400 kB
# UCD-SNMP-MIB::memMinimumSwapX.0 = Counter64: 16000 kB
# UCD-SNMP-MIB::memSharedX.0 = Counter64: 4199992 kB
# UCD-SNMP-MIB::memBufferX.0 = Counter64: 650036 kB
# UCD-SNMP-MIB::memCachedX.0 = Counter64: 14105308 kB
# UCD-SNMP-MIB::memSysAvail.0 = Counter64: 10797828 kB

# UCD-SNMP-MIB::memSwapError.0 = INTEGER: noError(0)
# UCD-SNMP-MIB::memSwapErrorMsg.0 = STRING:


# https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sect-system_monitoring_tools-net-snmp-retrieving

---
# device address which runs SNMP agent

host:
  - address: 172.16.10.254
  - address: 172.16.10.200
  - address: 172.16.10.201
  - address: 172.16.10.202
  - address: 172.16.10.203
  - address: 172.16.10.204
  - address: 172.16.10.205
  - address: 172.16.10.206
  - address: 172.16.10.207
  - address: 172.16.10.208
  - address: 172.16.10.209
  - address: 172.16.10.210
  - address: 172.16.10.211
  - address: 172.16.10.212
  - address: 172.16.10.213
  - address: 172.16.10.214
  - address: 172.16.10.215
  - address: 172.16.10.216
  - address: 172.16.10.217
  - address: 172.16.10.218
  - address: 172.16.10.219
  - address: 172.16.10.220
ssh:
  username: 'beyan'
  password: 'SSBsb3ZlIENoaW5hICYgQ2hpbmVzZS54eA=='
  banner_timeout: 10
  auth_timeout: 10
  timeout: 10
  invoke_shell: True
  entries:
    - table: 'hostname'
      label: 'hostname'
      description: '主机名'
      reference: 'localhost.localdomai'
      severity: '3'
    - table: 'vmstat 8 8'
      regexp: tail -1 | awk '{print $3}'
      label: 'vmStatWithTimeout'
      reference: '0'
      description: '虚拟内存状态'
      # timeout: 80
    - table: 'free'
      # regexp: tail -2 | head -1 | awk '{print $3}'
      regexp: grep Mem | awk '{print ($3/$2)*100}'
      # timeout: 30
      label: 'memUsedPercent'
      description: '内存使用率'
      watermark:
        low: 0
        high: 50
      severity: '5'
    - table: df -h
      regexp: grep "[0-9].*M" | awk '{print $5}' | grep -oE "[0-9]*"
      read_name_from: df -h
      name_regexp: grep "[0-9].*M" | awk '{print $NF}'
      label: fsUsedPercentH
      timeout: 10
      description: '文件系统使用率'
      watermark:
        low: 0
        high: 50
    - table: df -P
      regexp: grep "[0-9].*M" | awk '{print $5}' | grep -oE "[0-9]*"
      read_name_from: df -h
      name_regexp: grep "[0-9].*M" | awk '{print $NF}'
      label: fsUsedPercentP
      timeout: 10
      description: '文件系统使用率'
      watermark:
        low: 0
        high: 50
    - table: df -k
      regexp: grep "[0-9].*M" | awk '{print $5}' | grep -oE "[0-9]*"
      read_name_from: df -h
      name_regexp: grep "[0-9].*M" | awk '{print $NF}'
      label: fsUsedPercentK
      timeout: 10
      description: '文件系统使用率'
      watermark:
        low: 0
        high: 50
    - table: df -m
      regexp: grep "[0-9].*M" | awk '{print $5}' | grep -oE "[0-9]*"
      read_name_from: df -h
      name_regexp: grep "[0-9].*M" | awk '{print $NF}'
      label: fsUsedPercentM
      timeout: 10
      description: '文件系统使用率'
      watermark:
        low: 0
        high: 50
    - table: df -T
      regexp: grep "[0-9].*M" | awk '{print $5}' | grep -oE "[0-9]*"
      read_name_from: df -h
      name_regexp: grep "[0-9].*M" | awk '{print $NF}'
      timeout: 10
      label: fsUsedPercentT
      description: '文件系统使用率'
      watermark:
        low: 0
        high: 50
